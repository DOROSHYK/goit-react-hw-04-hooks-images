{"version":3,"sources":["component/Modal/Modal.module.css","component/ImageGallery/ImageGallery.module.css","component/Button/Button.module.css","component/Loader/Spinner.module.css","component/SearchBar/SearchBar.js","component/ImageGaleryItem/ImageGaleryItem.js","component/ImageGallery/ImageGallery.js","component/Modal/Modal.js","component/Button/Button.js","component/Loader/Loader.js","API/apiService.jsx","App.js","reportWebVitals.js","index.js","component/SearchBar/SearchBar.module.css","component/ImageGaleryItem/ImageGalleryItem.module.css"],"names":["module","exports","SearchBar","onSubmit","useState","searchQuery","setSearchQuery","className","s","Searchbar","SearchForm","event","preventDefault","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","name","autoFocus","placeholder","onChange","currentTarget","value","ImageGalleryItem","webformatURL","id","onItemClick","src","alt","ImageGalleryItem_image","onClick","modalContent","ImageGallery","images","e","target","map","image","Modal","content","onBackdrop","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","Overlay","Button","onPress","Spinner","color","height","width","fetchImages","page","fetchUrl","fetch","then","res","json","App","setPage","setModalContent","visibleImages","setVisibleImages","isLoading","setIsLoading","openModal","setOpenModal","hits","prevSate","handleScroll","catch","error","console","log","message","finally","toggleModal","scrollTo","top","document","documentElement","scrollHeight","behavior","query","itemId","el","find","largeImageURL","prevPage","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.04eaccf5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1K1ed\",\"Modal\":\"Modal_Modal__1TP7h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__39Nys\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__31MuZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__2KDdf\"};","import React, { useState } from \"react\";\n// import PropTypes from \"prop-types\";\n\nimport s from \"./SearchBar.module.css\";\n\nfunction SearchBar({ onSubmit }) {\n  // static propTypes = {\n  //   onSubmit: PropTypes.func.isRequired,\n  // };\n\n  // state = {\n  //   searchQuery: \"\",\n  // };\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const handleChange = (event) => {\n    // const { name, value } = event.currentTarget;\n    // setSearchQuery({ [name]: value });\n    setSearchQuery(event.currentTarget.value);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    // const { searchQuery } = this.state;\n    onSubmit(searchQuery);\n  };\n\n  return (\n    <header className={s.Searchbar}>\n      <form className={s.SearchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.SearchForm_button}>\n          <span className={s.SearchForm_button_label}>Search</span>\n        </button>\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          name=\"searchQuery\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          onChange={handleChange}\n          value={searchQuery}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default SearchBar;\n","import React from \"react\";\n// import PropTypes from \"prop-types\";\n\nimport s from \"./ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem({ webformatURL, id, onItemClick }) {\n  // static propTypes = {\n  //   onItemClick: PropTypes.func.isRequired,\n  //   id: PropTypes.number.isRequired,\n  //   webformatURL: PropTypes.string.isRequired,\n  // };\n\n  const modalContent = (id) => {\n    onItemClick(id);\n  };\n\n  // const { id, webformatURL } = this.props;\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt=\"\"\n        className={s.ImageGalleryItem_image}\n        onClick={() => modalContent(id)}\n      />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\n// import PropTypes from \"prop-types\";\n\nimport s from \"./ImageGallery.module.css\";\nimport ImageGalleryItem from \"../ImageGaleryItem/ImageGaleryItem\";\n\nfunction ImageGallery({ onClick, images, onItemClick }) {\n  // static propTypes = {\n  //   onClick: PropTypes.func.isRequired,\n  //   onItemClick: PropTypes.func.isRequired,\n  //   images: PropTypes.arrayOf(\n  //     PropTypes.shape({\n  //       id: PropTypes.number.isRequired,\n  //     })\n  //   ).isRequired,\n  // };\n\n  const handleOpenModal = (e) => {\n    if (e.target !== e.currentTarget) {\n      onClick();\n    }\n  };\n\n  // const { images, onItemClick } = this.props;\n  return (\n    <ul className={s.ImageGallery} onClick={handleOpenModal}>\n      {images &&\n        images.map((image) => (\n          <ImageGalleryItem\n            key={image.id}\n            {...image}\n            onItemClick={onItemClick}\n          />\n        ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\nimport { Portal } from \"react-portal\";\n// import PropTypes from \"prop-types\";\nimport { useEffect } from \"react\";\nimport s from \"./Modal.module.css\";\n\n// const modalRoot = document.getElementById(\"modal-root\");\n\nfunction Modal({ content, onBackdrop }) {\n  // static propTypes = {\n  //   onBackdrop: PropTypes.func.isRequired,\n  //   content: PropTypes.string.isRequired,\n  // };\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onBackdrop();\n    }\n  };\n\n  const handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      onBackdrop();\n    }\n  };\n\n  return (\n    <Portal>\n      <div className={s.Overlay} onClick={handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={content} alt=\"\" />\n        </div>\n      </div>\n      , modalRoot\n    </Portal>\n  );\n}\n\nexport default Modal;\n","import React from \"react\";\n// import PropTypes from \"prop-types\";\n\nimport s from \"./Button.module.css\";\n\nfunction Button({ onPress }) {\n  // static defaultProps = {\n  //   name: \"Load more\",\n  // };\n  // static propTypes = {\n  //   name: PropTypes.string,\n  //   onPress: PropTypes.func.isRequired,\n  // };\n\n  // const { onPress } = this.props;\n  return (\n    <button type=\"button\" onClick={() => onPress()} className={s.Button}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nimport s from \"./Spinner.module.css\";\n\nfunction Spinner() {\n  return (\n    <div className={s.Spinner}>\n      <Loader type=\"Puff\" color=\"#00BFFF\" height={50} width={50} />\n    </div>\n  );\n}\n\nexport default Spinner;\n","const api = \"https://pixabay.com/api/?\";\n\nconst key = \"22346616-da93255f31f30d17d2f747f5d\";\n\nconst fetchImages = (searchQuery, page) => {\n  const fetchUrl = `${api}q=${searchQuery}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`;\n  return fetch(fetchUrl).then((res) => res.json());\n};\n\nexport default fetchImages;\n","import React, { useState, useEffect } from \"react\";\n\nimport SearchBar from \"./component/SearchBar/SearchBar\";\nimport ImageGallery from \"./component/ImageGallery/ImageGallery\";\nimport Modal from \"./component/Modal/Modal\";\nimport Button from \"./component/Button/Button\";\nimport Spinner from \"./component/Loader/Loader\";\n\nimport fetchImages from \"./API/apiService\";\n\nimport \"./App.css\";\n\nfunction App() {\n  // state = {\n  //   modalContent: \"\",\n  //   searchQuery: \"\",\n  //   visibleImages: [],\n  //   isLoading: false,\n  //   openModal: false,\n  // };\n\n  const [page, setPage] = useState(1);\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [modalContent, setModalContent] = useState(\"\");\n  const [visibleImages, setVisibleImages] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  let [openModal, setOpenModal] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetchImages(searchQuery, page)\n      .then(({ hits }) => {\n        setVisibleImages((prevSate) => [...prevSate, ...hits]);\n        handleScroll();\n      })\n      .catch((error) => console.log(error.message))\n      .finally(() => setIsLoading(false));\n    // eslint-disable-next-line no-use-before-define\n  }, [searchQuery, page]);\n\n  const toggleModal = () => {\n    setOpenModal(!openModal);\n  };\n\n  // const toggleLoading = () => {\n  //   setIsLoading(({ isLoading }) => ({ isLoading: !isLoading }));\n  // };\n\n  const hadleChangeQuery = (query) => {\n    // if (query === searchQuery) {\n    //   return;\n    // }\n    setSearchQuery(query);\n    setVisibleImages([]);\n    setPage(1);\n  };\n\n  const handleNextPage = () => {\n    setPage((prevPage) => prevPage + 1);\n  };\n\n  const handleScroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  const modalContentSet = (itemId) => {\n    const el = visibleImages.find((el) => el.id === itemId);\n\n    setModalContent(el.largeImageURL);\n  };\n\n  return (\n    <div className=\"App\">\n      <SearchBar onSubmit={hadleChangeQuery} />\n\n      <ImageGallery\n        images={visibleImages}\n        onClick={toggleModal}\n        onItemClick={modalContentSet}\n      />\n\n      {openModal && <Modal content={modalContent} onBackdrop={toggleModal} />}\n      {isLoading && <Spinner />}\n\n      {<Button onPress={handleNextPage} />}\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3XOF0\",\"SearchForm\":\"SearchBar_SearchForm__3E2dh\",\"SearchForm_button\":\"SearchBar_SearchForm_button__1TZ7S\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__2HPEf\",\"SearchForm_input\":\"SearchBar_SearchForm_input__2gVfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1_38f\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__3skHa\"};"],"sourceRoot":""}